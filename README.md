# chatbot
## Currency Converter chatbot 
This chatbot is trained with funny prompts whose intent is to convert currency.


## Architecture - 
<img width="858" alt="image" src="https://github.com/SamruddhiBhosale/chatbot/assets/41594930/c76a16ee-10f5-4afd-b046-020254e3147d">

## Steps - 
    1.Go to dialog flow - https://dialogflow.cloud.google.com/
    2. Create new agent and add Intents as per requirement
    3. Add default response if any issue occurs this response will be given out.
    4. We only need to focus on these parameters - unit-currency	{ "amount": 500, "currency": "USD" }	currency-name	INR
    5. Ngrok - one machine port can be hosted for 8 hrs. 
	6. We can use heroku or aws once develeopment is done . Because during dev we need to make lot of changes.
	7. https://dashboard.ngrok.com/get-started/setup/macos
	8. Create new flask app with below code which will handle our chatbot's backend
	9. Install ngrok and follow setup steps  mentioned in 7th point
	10. Try to hit the url given by ngrok.
	11. Issues faced was my fask app was running on 127.0.0.0:5000 but not on localhost and my ngrok was mapped to my localhost url.
	12. So had to add host = 0.0.0.0 in main()
	13.  flask app and ngrok is then connected
	14. Later in fullfillment tab in dialog flow enable webhook and then paste the ngrok url in URL textbox and save it .
	15. Go to Intents tab -> scroll down to fulfillment -> enable webhook call for intents.
	16. Now our json generated by chatbot will be passed to flask app for further processing.



## Issues Faced-
1. flask app was giving 405 error while hosting using ngrok.
2. Resolution - added host = 0.0.0.0 in main method



## Response (JSON) - 
{
  'responseId': '6c729b32-0492-482e-9ddb-a2ac41dfa5ea-308d2bf1',
  'queryResult': {
    'queryText': 'convert 500 pounds to INR',
    'parameters': {
      'currency-name': 'INR',
      'unit-currency': {
        'amount': 500.0,
        'currency': 'GBP'
      },
  'session': 'projects/spago-jgwf/agent/sessions/0d87cfc7-ca8c-0c19-208e-d0fa9dda8c15'
}



## ngrok configuration - 
<img width="947" alt="image" src="https://github.com/SamruddhiBhosale/chatbot/assets/41594930/320959e2-df78-4654-aab9-c357f56ccbef">

Output of the chatbot is shown below . The chatbot is integrated with telegram .
## Output - 
<img width="1262" alt="Screenshot 2024-04-27 at 10 45 10" src="https://github.com/SamruddhiBhosale/chatbot/assets/41594930/7331288c-6ba2-479a-a81e-4b660956742c">


